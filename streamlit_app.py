import streamlit as st

# --- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏µ‡πà 1: ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å ---
def show_home():
    st.title("üè• HIV Care Interactive Guide")
    st.write("### ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤ HIV")
    st.info("‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠ (Sidebar)")
    st.image("https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&w=800&q=80", caption="Digital Health for Thailand")

# --- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏µ‡πà 2: ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà (Adult) ---
def show_adult():
    st.header("üë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà (Adult Regimen)")
    st.subheader("‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏¢‡∏≤‡∏ï‡πâ‡∏≤‡∏ô‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏£‡∏Å (Naive)")
    
    # Input
    col1, col2 = st.columns(2)
    with col1:
        egfr = st.number_input("‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡πà‡∏≤ eGFR (mL/min)", min_value=0, value=90)
    with col2:
        cd4 = st.number_input("‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡πà‡∏≤ CD4 (cells/mm3)", min_value=0, value=500)
    
    contraindication = st.multiselect(
        "‡∏Ç‡πâ‡∏≠‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ/‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏û‡πâ‡∏¢‡∏≤",
        ["‡πÑ‡∏°‡πà‡∏°‡∏µ", "‡πÅ‡∏û‡πâ Abacavir (HLA-B*5701 +ve)", "‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á (Dyslipidemia)", "‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï"]
    )

    # Logic ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•
    if st.button("‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• (Analyze)"):
        st.divider()
        st.write("#### üìú ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (Recommendation)")
        
        # Logic ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏° Guideline ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)
        if egfr >= 30:
            st.success("**‚úÖ ‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (Preferred): TDF + 3TC + DTG (TLD)**")
            st.write("- ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡πÄ‡∏°‡πá‡∏î ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏°")
        else:
            st.error("**‚ö†Ô∏è ‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡∏Ñ‡πà‡∏≤ eGFR < 30 ‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á TDF**")
            st.info("**‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (Alternative):**\n1. **TAF/FTC + DTG** (‡∏´‡∏≤‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ)\n2. **ABC/3TC + DTG** (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ HLA-B*5701)")

# --- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏î‡πá‡∏Å (Pediatric) - ‡∏£‡∏≠‡∏´‡∏°‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ---
def show_pediatric():
    st.header("üë∂ ‡πÄ‡∏î‡πá‡∏Å (Pediatric)")
    st.warning("üöß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Under Construction)")
    st.write("‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≤‡πÉ‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏î‡πá‡∏Å ‡∏ï‡∏≤‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏ß")

# --- ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏•‡∏±‡∏Å (Main Control) ---
def main():
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢
    st.sidebar.title("‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å")
    menu = st.sidebar.radio(
        "‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤:",
        ["üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å", "üë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà (Adult)", "üë∂ ‡πÄ‡∏î‡πá‡∏Å (Pediatrics)", "üíä ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô (PrEP/PEP)"]
    )

    # ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡πÄ‡∏°‡∏ô‡∏π
    if menu == "üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å":
        show_home()
    elif menu == "üë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà (Adult)":
        show_adult()
    elif menu == "üë∂ ‡πÄ‡∏î‡πá‡∏Å (Pediatrics)":
        show_pediatric()
    elif menu == "üíä ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô (PrEP/PEP)":
        st.header("üíä PrEP / PEP")
        st.info("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤... ‡∏£‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Guideline 2568")

if __name__ == "__main__":
    main()
